/*! rollup-plugin-babel-minify v5.0.0 | (c) 2018 Comandeer | MIT license (see LICENSE) */
'use strict';function _interopDefault(a){return a&&'object'==typeof a&&'default'in a?a['default']:a}var MagicString=_interopDefault(require('magic-string')),minifyPreset=_interopDefault(require('babel-preset-minify')),bannerPlugin=require('@comandeer/babel-plugin-banner'),bannerPlugin__default=_interopDefault(bannerPlugin),babelCore=require('babel-core');function addNewLine(a){const b=new MagicString(a),c=a.indexOf('*/');b.appendRight(c+2,'\n');const d=b.generateMap({includeContent:!0});return{code:b.toString(),map:d}}function filterMinifyOptions(a){const b=['banner','bannerNewLine','sourceMap','comments'],c={};return Object.keys(a).forEach((d)=>{-1===b.indexOf(d)&&(c[d]=a[d])}),c}function isString(a){return'string'==typeof a}function isFn(a){return'function'==typeof a}function isFnOrString(a){return isString(a)||isFn(a)}function minify(a={}){return{name:'babel-minify',transformBundle(b,{banner:c}){const d=filterMinifyOptions(a),e={presets:[[minifyPreset,d]],sourceMaps:!('undefined'!=typeof a.sourceMap)||!!a.sourceMap,comments:!('undefined'!=typeof a.comments)||!!a.comments};if(isFnOrString(a.banner)||isFnOrString(c)){let b=a.banner||c;b=isFn(b)?b():b;const d=bannerPlugin.getCommentContent(b);let f=!1;e.plugins=[[bannerPlugin__default,{banner:b}]],e.comments||(e.shouldPrintComment=(a)=>!(f||a!==d)&&(f=!0,!0))}var f=babelCore.transform(b,e);let g=f.code,h=f.map;if(a.bannerNewLine){var i=addNewLine(g);g=i.code,h=i.map}return{code:g,map:h}}}}module.exports=minify;
//# sourceMappingURL=rollup-plugin-babel-minify.js.map
